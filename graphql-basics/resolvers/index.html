<!doctypehtml><html lang="en"><meta charset="utf-8"><link rel="icon"type="image/svg+xml"href="/assets/favicon.15621087ab873d484cfdc234ae6d4f0559d2ece6.svg"><meta name="viewport"content="width=device-width,initial-scale=1"><link href="/assets/main.d3c4fd66da45b5fe1b587fd7bc4b64cc7a34bcf3.css"rel="stylesheet"><title>Resolvers - GraphQL basics - Building GraphQL APIs with AWS AppSync</title><nav class="navbar navbar-light"><div class="container-fluid flex-nowrap"><a class="navbar-brand"href="/">Building GraphQL APIs with AWS AppSync</a> <button class="navbar-toggler d-lg-none align-self-start"type="button"data-bs-toggle="offcanvas"data-bs-target="#offcanvasNavbar"aria-controls="offcanvasNavbar"><span class="navbar-toggler-icon"></span></button><div class="offcanvas offcanvas-end"tabindex="-1"id="offcanvasNavbar"aria-labelledby="offcanvasNavbarLabel"><div class="offcanvas-header"><h5 class="offcanvas-title"id="offcanvasNavbarLabel">Building GraphQL APIs with AWS AppSync</h5><button type="button"class="btn-close text-reset"data-bs-dismiss="offcanvas"aria-label="Close"></button></div><div class="offcanvas-body keep-scrolltop"><ul class="nav navbar-nav justify-content-end flex-grow-1 pe-3"><li class="nav-item"><a class="nav-link"href="/introduction/">Introduction</a><li class="nav-item"><a class="nav-link active"href="/graphql-basics/">GraphQL basics</a><ul class="nav flex-column"><li class="nav-item"><a class="nav-link"href="/graphql-basics/graphql-vs-rest/">GraphQL vs REST</a><li class="nav-item"><a class="nav-link"href="/graphql-basics/schema/">Schema</a><li class="nav-item"><a class="nav-link"href="/graphql-basics/queries-and-mutations/">Queries and Mutations</a><li class="nav-item"><a class="nav-link active"href="/graphql-basics/resolvers/">Resolvers</a><li class="nav-item"><a class="nav-link"href="/graphql-basics/access-control/">Access control</a></ul><li class="nav-item"><a class="nav-link"href="/aws-appsync/">AWS AppSync</a><ul class="nav flex-column"><li class="nav-item"><a class="nav-link"href="/aws-appsync/api-configuration/">API configuration</a><ul class="nav flex-column"><li class="nav-item"><a class="nav-link"href="/aws-appsync/api-configuration/authorization-providers/">Authorization providers</a><li class="nav-item"><a class="nav-link"href="/aws-appsync/api-configuration/logging-and-monitoring/">Logging and monitoring</a><li class="nav-item"><a class="nav-link"href="/aws-appsync/api-configuration/custom-domains/">Custom domains</a><li class="nav-item"><a class="nav-link"href="/aws-appsync/api-configuration/waf/">WAF</a></ul><li class="nav-item"><a class="nav-link"href="/aws-appsync/data-sources/">Data sources</a><ul class="nav flex-column"><li class="nav-item"><a class="nav-link"href="/aws-appsync/data-sources/lambda-1/">Lambda</a><li class="nav-item"><a class="nav-link"href="/aws-appsync/data-sources/dynamodb/">DynamoDB</a><li class="nav-item"><span class="nav-link">HTTP ğŸš§</span><li class="nav-item"><span class="nav-link">RDS ğŸš§</span><li class="nav-item"><span class="nav-link">None ğŸš§</span></ul><li class="nav-item"><span class="nav-link">Resolvers ğŸš§</span><li class="nav-item"><span class="nav-link">Authorization ğŸš§</span><li class="nav-item"><span class="nav-link">Error handling ğŸš§</span><li class="nav-item"><span class="nav-link">Real-time data with subscriptions ğŸš§</span></ul><li class="nav-item"><span class="nav-link">Infrastructure-as-code ğŸš§</span><ul class="nav flex-column"><li class="nav-item"><span class="nav-link">Terraform ğŸš§</span><li class="nav-item"><span class="nav-link">CDK ğŸš§</span><li class="nav-item"><span class="nav-link">Amplify ğŸš§</span></ul><li class="nav-item"><span class="nav-link">Example application ğŸš§</span><li class="nav-item"><a class="nav-link"href="/glossary/">Glossary</a><li class="nav-item"><a class="nav-link"href="/about-the-author/">About the author</a><li class="nav-item"><a class="nav-link"href="/changelog/">Changelog</a><li class="nav-item"><a class="nav-link"href="/copyright/">Copyright</a></ul></div></div></div></nav><div class="d-flex flex-row"><ul class="nav flex-column navigation flex-shrink-0 flex-nowrap overflow-auto d-none d-lg-flex keep-scrolltop"><li class="nav-item"><a class="nav-link"href="/introduction/">Introduction</a><li class="nav-item"><a class="nav-link active"href="/graphql-basics/">GraphQL basics</a><ul class="nav flex-column"><li class="nav-item"><a class="nav-link"href="/graphql-basics/graphql-vs-rest/">GraphQL vs REST</a><li class="nav-item"><a class="nav-link"href="/graphql-basics/schema/">Schema</a><li class="nav-item"><a class="nav-link"href="/graphql-basics/queries-and-mutations/">Queries and Mutations</a><li class="nav-item"><a class="nav-link active"href="/graphql-basics/resolvers/">Resolvers</a><li class="nav-item"><a class="nav-link"href="/graphql-basics/access-control/">Access control</a></ul><li class="nav-item"><a class="nav-link"href="/aws-appsync/">AWS AppSync</a><ul class="nav flex-column"><li class="nav-item"><a class="nav-link"href="/aws-appsync/api-configuration/">API configuration</a><ul class="nav flex-column"><li class="nav-item"><a class="nav-link"href="/aws-appsync/api-configuration/authorization-providers/">Authorization providers</a><li class="nav-item"><a class="nav-link"href="/aws-appsync/api-configuration/logging-and-monitoring/">Logging and monitoring</a><li class="nav-item"><a class="nav-link"href="/aws-appsync/api-configuration/custom-domains/">Custom domains</a><li class="nav-item"><a class="nav-link"href="/aws-appsync/api-configuration/waf/">WAF</a></ul><li class="nav-item"><a class="nav-link"href="/aws-appsync/data-sources/">Data sources</a><ul class="nav flex-column"><li class="nav-item"><a class="nav-link"href="/aws-appsync/data-sources/lambda-1/">Lambda</a><li class="nav-item"><a class="nav-link"href="/aws-appsync/data-sources/dynamodb/">DynamoDB</a><li class="nav-item"><span class="nav-link">HTTP ğŸš§</span><li class="nav-item"><span class="nav-link">RDS ğŸš§</span><li class="nav-item"><span class="nav-link">None ğŸš§</span></ul><li class="nav-item"><span class="nav-link">Resolvers ğŸš§</span><li class="nav-item"><span class="nav-link">Authorization ğŸš§</span><li class="nav-item"><span class="nav-link">Error handling ğŸš§</span><li class="nav-item"><span class="nav-link">Real-time data with subscriptions ğŸš§</span></ul><li class="nav-item"><span class="nav-link">Infrastructure-as-code ğŸš§</span><ul class="nav flex-column"><li class="nav-item"><span class="nav-link">Terraform ğŸš§</span><li class="nav-item"><span class="nav-link">CDK ğŸš§</span><li class="nav-item"><span class="nav-link">Amplify ğŸš§</span></ul><li class="nav-item"><span class="nav-link">Example application ğŸš§</span><li class="nav-item"><a class="nav-link"href="/glossary/">Glossary</a><li class="nav-item"><a class="nav-link"href="/about-the-author/">About the author</a><li class="nav-item"><a class="nav-link"href="/changelog/">Changelog</a><li class="nav-item"><a class="nav-link"href="/copyright/">Copyright</a></ul><div class="flex-grow-1 main container-fluid"><div class="row"><div class="col-lg-9 body p-3"><div class="d-lg-none mb-4"><div class="accordion"id="accordionExample"><div class="accordion-item"><h2 class="accordion-header"id="mobile-toc-header"><button class="accordion-button collapsed"type="button"data-bs-toggle="collapse"data-bs-target="#mobile-toc"aria-expanded="true"aria-controls="mobile-toc">In this chapter</button></h2><div id="mobile-toc"class="accordion-collapse collapse"aria-labelledby="mobile-toc-header"data-bs-parent="#accordionExample"><div class="accordion-body"><div class="toc-container"><a style="margin-left: 0em"href="#defined-resolvers">Resolvers</a> <a style="margin-left: 1em"href="#top-level-fields">Top-level fields</a> <a style="margin-left: 1em"href="#defined-nested-fields">Nested fields</a> <a style="margin-left: 1em"href="#resolver-arguments">Resolver arguments</a> <a style="margin-left: 1em"href="#defined-lists">Lists</a></div></div></div></div></div></div><h2 id="defined-resolvers">Resolvers</h2><p>So far, all we've talked about were abstract concepts, such as the schema defining GraphQL constructs and client queries with fields that the response should contain. But how the backend goes from receiving the query and producing the response? Where does the data comes from? This is what the resolvers are for.<figure class="plantuml image"><svg xmlns="http://www.w3.org/2000/svg"height="254"preserveAspectRatio="none"style="width:189px;height:254px;background:#fff"viewBox="0 0 189 254"width="189"><defs><filter height="300%"id="60b009fd7f1cb0b591146179a590e2e151291b5262816acdef973a2af89a1259__a"width="300%"x="-1"y="-1"><feGaussianBlur result="blurOut"stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut"result="blurOut2"values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4"dy="4"in="blurOut2"result="blurOut3"></feOffset><feBlend in="SourceGraphic"in2="blurOut3"></feBlend></filter></defs><path style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5"d="M26 88.297v159.531m97-159.531v159.531"></path><text font-family="sans-serif"font-size="14"textLength="37"x="5"y="84.995">client</text><circle cx="26.5"cy="15"fill="#FEFECE"filter="url(#60b009fd7f1cb0b591146179a590e2e151291b5262816acdef973a2af89a1259__a)"style="stroke:#a80036;stroke-width:2"r="8"></circle><path d="M26.5 23v27m-13-19h26m-13 19-13 15m13-15 13 15"fill="none"filter="url(#60b009fd7f1cb0b591146179a590e2e151291b5262816acdef973a2af89a1259__a)"style="stroke:#a80036;stroke-width:2;fill:none"></path><text font-family="sans-serif"font-size="14"textLength="124"x="58"y="84.995">GraphQL backend</text><circle cx="123"cy="56"fill="#FEFECE"filter="url(#60b009fd7f1cb0b591146179a590e2e151291b5262816acdef973a2af89a1259__a)"style="stroke:#a80036;stroke-width:2"r="12"></circle><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m119 44 6-5-2 5 2 5-6-5zm-8 71.43 10 4-10 4 4-4z"></path><path style="stroke:#a80036;stroke-width:1"d="M26.5 119.43H117"></path><text font-family="sans-serif"font-size="13"textLength="36"x="33.5"y="114.364">query</text><path style="stroke:#a80036;stroke-width:1"d="M123 148.563h42m0 0v13m-41 0h41"></path><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m134 157.563-10 4 10 4-4-4z"></path><text font-family="sans-serif"font-size="13"textLength="51"x="130"y="143.497">schema</text><path d="M67 174.563v25h107v-15l-10-10H67"fill="#FBFB77"filter="url(#60b009fd7f1cb0b591146179a590e2e151291b5262816acdef973a2af89a1259__a)"style="stroke:#a80036;stroke-width:1;fill:#fbfb77"></path><path d="M164 174.563v10h10l-10-10"fill="#FBFB77"style="stroke:#a80036;stroke-width:1;fill:#fbfb77"></path><text font-family="sans-serif"font-size="13"textLength="86"x="73"y="191.629">Run resolvers</text><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m37.5 225.828-10 4 10 4-4-4z"></path><path style="stroke:#a80036;stroke-width:1"d="M31.5 229.828H122"></path><text font-family="sans-serif"font-size="13"textLength="59"x="43.5"y="224.762">response</text></svg><figcaption class="caption">Resolvers provide the response to client queries</figcaption></figure><p>For example, the schema might define a user query that returns a <code>User</code> object:<pre class="highlight prevp"><code><span class="hljs-comment"># schema</span>
<span class="hljs-keyword">type</span><span class="hljs-literal"> User</span> {
  username:<span class="hljs-literal"> String</span>!
  email:<span class="hljs-literal"> String</span>
  bio:<span class="hljs-literal"> String</span>
}

<span class="hljs-keyword">type</span><span class="hljs-literal"> Query</span> {
  user(username:<span class="hljs-literal"> String</span>!):<span class="hljs-literal"> User</span>
}</code></pre><p>Then the client sends a request with a query for a user:<pre class="highlight prevp"><code><span class="hljs-comment"># query</span>
<span class="hljs-keyword">query</span><span class="hljs-literal"> MyQuery</span> {
  user(username: <span class="hljs-string">"user1"</span>) {
    username
    bio
  }
}</code></pre><p>What database query to send to retrieve this user object?<p>Of course, this is highly dependent on the architecture. Users might be stored in an SQL database, so fetching the one with the given username needs an SQL statement. Or they might be in DynamoDB, a common choice in AWS, and that needs a signed HTTPS request. Or a user directory, or an external system.<p>Resolvers define the mechanism that connect to the data sources behind the GraphQL API, such as databases, and provide the values for the queries. In practice, most of the time spent working on a GraphQL backend is spent writing resolvers.<p>How to write resolvers, such as the language they are written in, is highly dependent on the specific GraphQL server you are using. For example, <a href="https://graphql.org/graphql-js/#writing-code">GraphQL.js</a> uses Javascript, and AWS AppSync uses <a href="https://velocity.apache.org/">Velocity templates</a> (VTL) as the primary way.<p>In this chapter, we'll focus on the general concepts of how resolvers work that are the same for all implementations. Then we'll take a detailed look into how AWS AppSync works in the <a href="/aws-appsync/#defined-appsync">second part</a> of the book.<p><strong>A resolver provide a value for a field in the response.</strong> Fields, as we've covered in the <a href="/graphql-basics/queries-and-mutations/#defined-fields">Fields</a> chapter, are both the properties of types (the <code>username</code> of a <code>User</code> type) and the queries or mutations (the <code>user</code> query).<div class="floatbox floatbox-center"><div class="tcolorbox tcolorbox-info"><div class="tbox-header">Note</div><div class="tbox-body"><p>Resolvers provide values for fields.</div></div></div><h3 id="top-level-fields">Top-level fields</h3><p>(<a href="https://graphql.org/learn/execution/#root-fields-resolvers">Official docs</a>)<p>Let's first consider the top-most part of a client query! This is the field of the <code>Query</code> type and that is the entry-point to the object graph.<p>Let's see it through an example!<p>The schema defines a query that returns a String:<pre class="highlight prevp"><code><span class="hljs-comment"># schema</span>
<span class="hljs-keyword">type</span><span class="hljs-literal"> Query</span> {
  test:<span class="hljs-literal"> String</span>
}</code></pre><p>Then a client sends a request to fetch this field:<pre class="highlight prevp"><code><span class="hljs-comment"># query</span>
<span class="hljs-keyword">query</span><span class="hljs-literal"> MyQuery</span> {
  test
}</code></pre><p>When this client query reaches the GraphQL server, it looks at the top-level fields. Here, the <code>test</code> field of the <code>Query</code> type is the topmost one, so it will resolve that first.<figure class="plantuml image"><svg xmlns="http://www.w3.org/2000/svg"height="453"preserveAspectRatio="none"style="width:428px;height:453px;background:#fff"viewBox="0 0 428 453"width="428"><defs><filter height="300%"id="94367bf9d17516593a08e5899af67dab78ee638e6859cde4a392b0703e70a967__a"width="300%"x="-1"y="-1"><feGaussianBlur result="blurOut"stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut"result="blurOut2"values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4"dy="4"in="blurOut2"result="blurOut3"></feOffset><feBlend in="SourceGraphic"in2="blurOut3"></feBlend></filter></defs><circle cx="109.5"cy="48.698"filter="url(#94367bf9d17516593a08e5899af67dab78ee638e6859cde4a392b0703e70a967__a)"style="stroke:none;stroke-width:1"r="10"></circle><rect fill="#FEFECE"filter="url(#94367bf9d17516593a08e5899af67dab78ee638e6859cde4a392b0703e70a967__a)"height="61.906"rx="12.5"ry="12.5"style="stroke:#a80036;stroke-width:1.5"width="123"x="48"y="78.698"></rect><text font-family="sans-serif"font-size="12"textLength="103"x="58"y="99.837">query MyQuery {</text><text font-family="sans-serif"font-size="12"textLength="25"x="74"y="113.806">test</text><text font-family="sans-serif"font-size="12"textLength="8"x="58"y="127.774">}</text><rect fill="#FEFECE"filter="url(#94367bf9d17516593a08e5899af67dab78ee638e6859cde4a392b0703e70a967__a)"height="61.906"rx="12.5"ry="12.5"style="stroke:#a80036;stroke-width:1.5"width="177"x="21"y="374.289"></rect><text font-family="sans-serif"font-size="12"textLength="55"x="31"y="395.427">"data": {</text><text font-family="sans-serif"font-size="12"textLength="141"x="47"y="409.396">"test": "test response"</text><text font-family="sans-serif"font-size="12"textLength="8"x="31"y="423.365">}</text><path style="stroke:#000;stroke-width:2"d="M15 12.745v423.45"></path><rect fill="#FEFECE"filter="url(#94367bf9d17516593a08e5899af67dab78ee638e6859cde4a392b0703e70a967__a)"height="33.969"rx="12.5"ry="12.5"style="stroke:#a80036;stroke-width:1.5"width="85"x="214"y="160.605"></rect><text font-family="sans-serif"font-size="12"textLength="65"x="224"y="181.743">Query.test</text><rect fill="#FEFECE"filter="url(#94367bf9d17516593a08e5899af67dab78ee638e6859cde4a392b0703e70a967__a)"height="33.969"rx="12.5"ry="12.5"style="stroke:#a80036;stroke-width:1.5"width="85"x="214"y="303.06"></rect><text font-family="sans-serif"font-size="12"textLength="65"x="224"y="324.199">Query.test</text><path style="stroke:#000;stroke-width:2"d="M208 12.745v423.45"></path><rect fill="#FEFECE"filter="url(#94367bf9d17516593a08e5899af67dab78ee638e6859cde4a392b0703e70a967__a)"height="33.969"rx="12.5"ry="12.5"style="stroke:#a80036;stroke-width:1.5"width="70"x="321.5"y="231.833"></rect><text font-family="sans-serif"font-size="12"textLength="50"x="331.5"y="252.971">process</text><path style="stroke:#000;stroke-width:2"d="M309 12.745v423.45m99-423.45v423.45"></path><path style="stroke:#a80036;stroke-width:1.5"d="M109.5 58.698v20"></path><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m105.5 68.698 4 10 4-10-4 4z"></path><path style="stroke:#a80036;stroke-width:1.5"d="M109.5 140.605v5m0 0h147m0 0v15"></path><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m252.5 150.605 4 10 4-10-4 4z"></path><path style="stroke:#a80036;stroke-width:1.5"d="M256.5 194.573v22.26m0 0h100m0 0v15"></path><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m352.5 221.833 4 10 4-10-4 4z"></path><text font-family="sans-serif"font-size="11"textLength="44"x="260.5"y="210.333">request</text><path style="stroke:#a80036;stroke-width:1.5"d="M356.5 265.801v22.259m0 0h-100m0 0v15"></path><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m252.5 293.06 4 10 4-10-4 4z"></path><text font-family="sans-serif"font-size="11"textLength="54"x="360.5"y="281.56">response</text><path style="stroke:#a80036;stroke-width:1.5"d="M256.5 337.029v22.26m0 0h-147m0 0v15"></path><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m105.5 364.289 4 10 4-10-4 4z"></path><text font-family="sans-serif"font-size="11"textLength="90"x="260.5"y="352.789">"test response"</text><text font-family="sans-serif"font-size="18"textLength="76"x="73.5"y="29.453">AppSync</text><text font-family="sans-serif"font-size="18"textLength="86"x="215.5"y="29.453">Resolvers</text><text font-family="sans-serif"font-size="18"textLength="89"x="314"y="29.453">Databases</text></svg><figcaption class="caption">Resolving the top-level field</figcaption></figure><p>That means a resolver is called, it gets some information about the query (such as the arguments), and provides a text response. What exactly that resolver does is up to the implementation, the only important point is that it must adhere to the type system: since the schema defines a <code>String</code> result, the resolver must return a String.<h3 id="defined-nested-fields">Nested fields</h3><p>When a top-level field (a query or a mutation) returns a complex type, GraphQL needs to resolve the fields of the inner type too. For example, a query might return a <code>User</code> that has its own fields:<pre class="highlight prevp"><code><span class="hljs-keyword">type</span><span class="hljs-literal"> User</span> {
  username:<span class="hljs-literal"> String</span>!
  email:<span class="hljs-literal"> String</span>
  bio:<span class="hljs-literal"> String</span>
}

<span class="hljs-keyword">type</span><span class="hljs-literal"> Query</span> {
  user(username:<span class="hljs-literal"> String</span>!):<span class="hljs-literal"> User</span>
}</code></pre><p>A query can define what inner fields it needs:<pre class="highlight prevp"><code><span class="hljs-comment"># query</span>
<span class="hljs-keyword">query</span><span class="hljs-literal"> MyQuery</span> {
  user(username: <span class="hljs-string">"user1"</span>) {
    username
    bio
    email
  }
}</code></pre><figure class="plantuml image"><svg xmlns="http://www.w3.org/2000/svg"height="628"preserveAspectRatio="none"style="width:558px;height:628px;background:#fff"viewBox="0 0 558 628"width="558"><defs><filter height="300%"id="0f07dd8aaed1687346310ae73ab75c6a89690eeb4ba0d990f6329d0d52bb2138__a"width="300%"x="-1"y="-1"><feGaussianBlur result="blurOut"stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut"result="blurOut2"values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4"dy="4"in="blurOut2"result="blurOut3"></feOffset><feBlend in="SourceGraphic"in2="blurOut3"></feBlend></filter></defs><path style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5"d="M26 88.297v532.922M265.5 88.297v532.922M377 88.297v532.922M481.5 88.297v532.922"></path><text font-family="sans-serif"font-size="14"textLength="37"x="5"y="84.995">client</text><circle cx="26.5"cy="15"fill="#FEFECE"filter="url(#0f07dd8aaed1687346310ae73ab75c6a89690eeb4ba0d990f6329d0d52bb2138__a)"style="stroke:#a80036;stroke-width:2"r="8"></circle><path d="M26.5 23v27m-13-19h26m-13 19-13 15m13-15 13 15"fill="none"filter="url(#0f07dd8aaed1687346310ae73ab75c6a89690eeb4ba0d990f6329d0d52bb2138__a)"style="stroke:#a80036;stroke-width:2;fill:none"></path><text font-family="sans-serif"font-size="14"textLength="60"x="232.5"y="68.698">GraphQL</text><text font-family="sans-serif"font-size="14"textLength="60"x="232.5"y="84.995">backend</text><circle cx="265.5"cy="39.703"fill="#FEFECE"filter="url(#0f07dd8aaed1687346310ae73ab75c6a89690eeb4ba0d990f6329d0d52bb2138__a)"style="stroke:#a80036;stroke-width:2"r="12"></circle><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m261.5 27.703 6-5-2 5 2 5-6-5z"></path><text font-family="sans-serif"font-size="14"textLength="41"x="354"y="84.995">Query</text><circle cx="377.5"cy="56"fill="#FEFECE"filter="url(#0f07dd8aaed1687346310ae73ab75c6a89690eeb4ba0d990f6329d0d52bb2138__a)"style="stroke:#a80036;stroke-width:2"r="12"></circle><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m373.5 44 6-5-2 5 2 5-6-5z"></path><text font-family="sans-serif"font-size="14"textLength="32"x="462.5"y="84.995">User</text><circle cx="481.5"cy="56"fill="#FEFECE"filter="url(#0f07dd8aaed1687346310ae73ab75c6a89690eeb4ba0d990f6329d0d52bb2138__a)"style="stroke:#a80036;stroke-width:2"r="12"></circle><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m477.5 44 6-5-2 5 2 5-6-5zm-224 162.227 10 4-10 4 4-4z"></path><path style="stroke:#a80036;stroke-width:1"d="M26.5 210.227h233"></path><text font-family="sans-serif"font-size="13"textLength="108"x="33.5"y="114.364">query MyQuery {</text><text fill="tomato"font-family="sans-serif"font-size="13"textLength="157"x="41.5"y="129.497">user(username: "user1")</text><text font-family="sans-serif"font-size="13"textLength="8"x="202.5"y="129.497">{</text><text fill="green"font-family="sans-serif"font-size="13"textLength="65"x="49.5"y="144.629">username</text><text fill="green"font-family="sans-serif"font-size="13"textLength="19"x="49.5"y="159.762">bio</text><text fill="green"font-family="sans-serif"font-size="13"textLength="35"x="49.5"y="174.895">email</text><text font-family="sans-serif"font-size="13"textLength="8"x="41.5"y="190.028">}</text><text font-family="sans-serif"font-size="13"textLength="8"x="33.5"y="205.161">}</text><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m365.5 235.36 10 4-10 4 4-4z"></path><path style="stroke:#a80036;stroke-width:1"d="M265.5 239.359h106"></path><text font-family="sans-serif"font-size="13"textLength="46"x="272.5"y="234.293">resolve</text><text fill="tomato"font-family="sans-serif"font-size="13"textLength="38"x="322.5"y="234.293">Query</text><path d="M324 252.36v25h102v-15l-10-10h-92"fill="#FBFB77"filter="url(#0f07dd8aaed1687346310ae73ab75c6a89690eeb4ba0d990f6329d0d52bb2138__a)"style="stroke:#a80036;stroke-width:1;fill:#fbfb77"></path><path d="M416 252.36v10h10l-10-10"fill="#FBFB77"style="stroke:#a80036;stroke-width:1;fill:#fbfb77"></path><text font-family="sans-serif"font-size="13"textLength="81"x="330"y="269.426">Resolve user</text><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m469.5 303.625 10 4-10 4 4-4z"></path><path style="stroke:#a80036;stroke-width:1"d="M377.5 307.625h98"></path><text font-family="sans-serif"font-size="13"textLength="46"x="384.5"y="302.559">resolve</text><text fill="green"font-family="sans-serif"font-size="13"textLength="30"x="434.5"y="302.559">User</text><path d="M410 320.625v25h139v-15l-10-10H410"fill="#FBFB77"filter="url(#0f07dd8aaed1687346310ae73ab75c6a89690eeb4ba0d990f6329d0d52bb2138__a)"style="stroke:#a80036;stroke-width:1;fill:#fbfb77"></path><path d="M539 320.625v10h10l-10-10"fill="#FBFB77"style="stroke:#a80036;stroke-width:1;fill:#fbfb77"></path><text font-family="sans-serif"font-size="13"textLength="118"x="416"y="337.692">Resolve username</text><path d="M433 359.758v25h93v-15l-10-10h-83"fill="#FBFB77"filter="url(#0f07dd8aaed1687346310ae73ab75c6a89690eeb4ba0d990f6329d0d52bb2138__a)"style="stroke:#a80036;stroke-width:1;fill:#fbfb77"></path><path d="M516 359.758v10h10l-10-10"fill="#FBFB77"style="stroke:#a80036;stroke-width:1;fill:#fbfb77"></path><text font-family="sans-serif"font-size="13"textLength="72"x="439"y="376.825">Resolve bio</text><path d="M425 398.89v25h109v-15l-10-10h-99"fill="#FBFB77"filter="url(#0f07dd8aaed1687346310ae73ab75c6a89690eeb4ba0d990f6329d0d52bb2138__a)"style="stroke:#a80036;stroke-width:1;fill:#fbfb77"></path><path d="M524 398.89v10h10l-10-10"fill="#FBFB77"style="stroke:#a80036;stroke-width:1;fill:#fbfb77"></path><text font-family="sans-serif"font-size="13"textLength="88"x="431"y="415.957">Resolve email</text><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m388.5 435.023-10 4 10 4-4-4z"></path><path style="stroke:#a80036;stroke-width:1"d="M382.5 439.023h98"></path><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m276.5 449.023-10 4 10 4-4-4z"></path><path style="stroke:#a80036;stroke-width:1"d="M270.5 453.023h106"></path><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m37.5 599.219-10 4 10 4-4-4z"></path><path style="stroke:#a80036;stroke-width:1"d="M31.5 603.219h233"></path><text font-family="sans-serif"font-size="13"textLength="8"x="43.5"y="477.09">{</text><text font-family="sans-serif"font-size="13"textLength="55"x="51.5"y="492.223">"data": {</text><text fill="tomato"font-family="sans-serif"font-size="13"textLength="38"x="59.5"y="507.356">"user"</text><text font-family="sans-serif"font-size="13"textLength="16"x="97.5"y="507.356">: {</text><text fill="green"font-family="sans-serif"font-size="13"textLength="133"x="67.5"y="522.489">"username": "user1",</text><text fill="green"font-family="sans-serif"font-size="13"textLength="135"x="67.5"y="537.622">"bio": "Lorem ipsum",</text><text fill="green"font-family="sans-serif"font-size="13"textLength="191"x="67.5"y="552.754">"email": "user@example.com"</text><text font-family="sans-serif"font-size="13"textLength="8"x="59.5"y="567.887">}</text><text font-family="sans-serif"font-size="13"textLength="8"x="51.5"y="583.02">}</text><text font-family="sans-serif"font-size="13"textLength="8"x="43.5"y="598.153">}</text></svg><figcaption class="caption">The GraphQL backend recursively resolves all fields in the response</figcaption></figure><p>Here, the first field to resolve is the <code>Query.user</code>. Its resolver runs, it goes to the database or wherever the user is stored then return this object:<pre class="highlight prevp"><code><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"username"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"user1"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"bio"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Hi there!"</span>
<span class="hljs-punctuation">}</span></code></pre><p>Then GraphQL needs to resolve the <code>User.username</code> field, so it runs the resolver for that. This resolver gets the <em>source object</em>, which is what the parent resolver returned, in this case the JSON object with the <code>username</code> and the <code>bio</code> fields. Since the <code>username</code> is already in this object, it does not need to contact a database or a separate system but return that value. Then the same process happens with the <code>User.bio</code> field.<div class="floatbox floatbox-center"><div class="tcolorbox tcolorbox-info"><div class="tbox-header">Note</div><div class="tbox-body"><p>Most servers implement a default resolver that simply returns the appropriate field from the source object. These are called <a href="https://graphql.org/learn/execution/#trivial-resolvers">trivial resolvers</a> and they reduce the code you need to write. You can always overwrite these trivial resolvers with something custom.</div></div></div><p>The third field is the <code>User.email</code>. In our example, the database does not contain the email address, but there is a separate user directory that does, such as a Cognito User Pool. This means the resolver for this field needs to contact this external system and retrieve the email address for a user. This demonstrates the flexibility of this field-based architecture: even different fields for a type can come from different services.<p>When the <code>email</code> field is also resolved, the GraphQL backend now has everything it needs to send back the response.<figure class="plantuml image"><svg xmlns="http://www.w3.org/2000/svg"height="604"preserveAspectRatio="none"style="width:524px;height:604px;background:#fff"viewBox="0 0 524 604"width="524"><defs><filter height="300%"id="724442f3b7bf0212f7b38f5085de316c00f58a5745ffe555914fc360838d3121__a"width="300%"x="-1"y="-1"><feGaussianBlur result="blurOut"stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut"result="blurOut2"values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4"dy="4"in="blurOut2"result="blurOut3"></feOffset><feBlend in="SourceGraphic"in2="blurOut3"></feBlend></filter></defs><path fill="#FFF"filter="url(#724442f3b7bf0212f7b38f5085de316c00f58a5745ffe555914fc360838d3121__a)"style="stroke:#000;stroke-width:2;fill:#fff"d="M184.5 225.227h250v90.531h-250zm0 104.531h219v59.266h-219zm0 73.265h169v59.266h-169zm0 73.266h326v75.398h-326z"></path><path style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5"d="M26 88.297V597.82M227.5 88.297V597.82m162-509.523V597.82m78-509.523V597.82"></path><text font-family="sans-serif"font-size="14"textLength="37"x="5"y="84.995">client</text><circle cx="26.5"cy="15"fill="#FEFECE"filter="url(#724442f3b7bf0212f7b38f5085de316c00f58a5745ffe555914fc360838d3121__a)"style="stroke:#a80036;stroke-width:2"r="8"></circle><path d="M26.5 23v27m-13-19h26m-13 19-13 15m13-15 13 15"fill="none"filter="url(#724442f3b7bf0212f7b38f5085de316c00f58a5745ffe555914fc360838d3121__a)"style="stroke:#a80036;stroke-width:2;fill:none"></path><text font-family="sans-serif"font-size="14"textLength="60"x="194.5"y="68.698">GraphQL</text><text font-family="sans-serif"font-size="14"textLength="60"x="194.5"y="84.995">backend</text><circle cx="227.5"cy="39.703"fill="#FEFECE"filter="url(#724442f3b7bf0212f7b38f5085de316c00f58a5745ffe555914fc360838d3121__a)"style="stroke:#a80036;stroke-width:2"r="12"></circle><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m223.5 27.703 6-5-2 5 2 5-6-5z"></path><text font-family="sans-serif"font-size="14"textLength="64"x="354.5"y="84.995">database</text><path d="M371.5 36c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10V36"fill="#FEFECE"filter="url(#724442f3b7bf0212f7b38f5085de316c00f58a5745ffe555914fc360838d3121__a)"style="stroke:#000;stroke-width:1.5;fill:#fefece"></path><path d="M371.5 36c0 10 18 10 18 10s18 0 18-10"fill="none"style="stroke:#000;stroke-width:1.5;fill:none"></path><text font-family="sans-serif"font-size="14"textLength="31"x="449"y="68.698">user</text><text font-family="sans-serif"font-size="14"textLength="60"x="434.5"y="84.995">directory</text><path d="M449.5 19.703c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10v-26"fill="#FEFECE"filter="url(#724442f3b7bf0212f7b38f5085de316c00f58a5745ffe555914fc360838d3121__a)"style="stroke:#000;stroke-width:1.5;fill:#fefece"></path><path d="M449.5 19.703c0 10 18 10 18 10s18 0 18-10"fill="none"style="stroke:#000;stroke-width:1.5;fill:none"></path><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m215.5 206.227 10 4-10 4 4-4z"></path><path style="stroke:#a80036;stroke-width:1"d="M26.5 210.227h195"></path><text font-family="sans-serif"font-size="13"textLength="108"x="33.5"y="114.364">query MyQuery {</text><text font-family="sans-serif"font-size="13"textLength="169"x="41.5"y="129.497">user(username: "user1") {</text><text font-family="sans-serif"font-size="13"textLength="65"x="49.5"y="144.629">username</text><text font-family="sans-serif"font-size="13"textLength="19"x="49.5"y="159.762">bio</text><text font-family="sans-serif"font-size="13"textLength="35"x="49.5"y="174.895">email</text><text font-family="sans-serif"font-size="13"textLength="8"x="41.5"y="190.028">}</text><text font-family="sans-serif"font-size="13"textLength="8"x="33.5"y="205.161">}</text><path d="M184.5 225.227h183v7l-10 10h-173v-17"fill="#EEE"style="stroke:#000;stroke-width:1;fill:#eee"></path><path fill="none"style="stroke:#000;stroke-width:2;fill:none"d="M184.5 225.227h250v90.531h-250z"></path><text font-family="sans-serif"font-size="13"font-weight="bold"textLength="138"x="199.5"y="238.293">resolve Query.user</text><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m377.5 274.625 10 4-10 4 4-4z"></path><path style="stroke:#a80036;stroke-width:1"d="M227.5 278.625h156"></path><text font-family="sans-serif"font-size="13"textLength="68"x="234.5"y="258.426">query user</text><text font-family="sans-serif"font-size="13"textLength="130"x="242.5"y="273.559">username = "user1"</text><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m238.5 303.758-10 4 10 4-4-4z"></path><path style="stroke:#a80036;stroke-width:1"d="M232.5 307.758h156"></path><text font-family="sans-serif"font-size="13"textLength="28"x="244.5"y="302.692">user</text><path d="M184.5 329.758h214v7l-10 10h-204v-17"fill="#EEE"style="stroke:#000;stroke-width:1;fill:#eee"></path><path fill="none"style="stroke:#000;stroke-width:2;fill:none"d="M184.5 329.758h219v59.266h-219z"></path><text font-family="sans-serif"font-size="13"font-weight="bold"textLength="169"x="199.5"y="342.825">resolve User.username</text><path style="stroke:#a80036;stroke-width:1"d="M227.5 368.023h42m0 0v13m-41 0h41"></path><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m238.5 377.023-10 4 10 4-4-4z"></path><text font-family="sans-serif"font-size="13"textLength="97"x="234.5"y="362.957">user.username</text><path d="M184.5 403.023h164v7l-10 10h-154v-17"fill="#EEE"style="stroke:#000;stroke-width:1;fill:#eee"></path><path fill="none"style="stroke:#000;stroke-width:2;fill:none"d="M184.5 403.023h169v59.266h-169z"></path><text font-family="sans-serif"font-size="13"font-weight="bold"textLength="119"x="199.5"y="416.09">resolve User.bio</text><path style="stroke:#a80036;stroke-width:1"d="M227.5 441.289h42m0 0v13m-41 0h41"></path><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m238.5 450.29-10 4 10 4-4-4z"></path><text font-family="sans-serif"font-size="13"textLength="51"x="234.5"y="436.223">user.bio</text><path d="M184.5 476.29h181v7l-10 10h-171v-17"fill="#EEE"style="stroke:#000;stroke-width:1;fill:#eee"></path><path fill="none"style="stroke:#000;stroke-width:2;fill:none"d="M184.5 476.289h326v75.398h-326z"></path><text font-family="sans-serif"font-size="13"font-weight="bold"textLength="136"x="199.5"y="489.356">resolve User.email</text><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m455.5 510.555 10 4-10 4 4-4z"></path><path style="stroke:#a80036;stroke-width:1"d="M227.5 514.555h234"></path><text font-family="sans-serif"font-size="13"textLength="155"x="234.5"y="509.489">get username = "user1"</text><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m238.5 539.688-10 4 10 4-4-4z"></path><path style="stroke:#a80036;stroke-width:1"d="M232.5 543.688h234"></path><text font-family="sans-serif"font-size="13"textLength="35"x="244.5"y="538.622">email</text><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m37.5 575.82-10 4 10 4-4-4z"></path><path style="stroke:#a80036;stroke-width:1"d="M31.5 579.82h195"></path><text font-family="sans-serif"font-size="13"textLength="59"x="43.5"y="574.754">response</text></svg><figcaption class="caption">Each resolver can go to different databases</figcaption></figure><div class="floatbox floatbox-center"><div class="tcolorbox tcolorbox-info"><div class="tbox-header">Note</div><div class="tbox-body"><p>Nested resolvers get the source object, which is the result of the parent resolver.</div></div></div><h3 id="resolver-arguments">Resolver arguments</h3><p>All resolver functions, no matter what language it is implemented, get at least these arguments:<ul><li>the arguments in the query for the field<li>the source object for nested resolvers<li>metadata about the call</ul><p>The query we used above:<pre class="highlight prevp"><code><span class="hljs-comment"># query</span>
<span class="hljs-keyword">query</span><span class="hljs-literal"> MyQuery</span> {
  user(username: <span class="hljs-string">"user1"</span>) {
    username
    bio
    email
  }
}</code></pre><p>In the case of the <code>Query.user</code> resolver, these are:<ul><li>the <code>username: "user1"</code> argument<li>no source object (top-level field)<li>metadata about the call, such as whether the caller is logged in, or the IP address</ul><p>Since the resolver gets the <code>username</code> argument, it knows what object to query in the database. Also, as the metadata may contain login information, the resolver can decide whether or not to allow this operation. We'll cover this in detail in the <a href="#">Authorization</a> chapter.<p>Then when the <code>User.email</code> resolver runs, it gets these parameters:<ul><li>no arguments (no argument defined for the <code>User.email</code> field)<li>the User object<li>metadata about the call</ul><p>Since the source object contains the <code>username</code> field, so the resolver knows what user to get from the directory.<div class="floatbox floatbox-center"><div class="tcolorbox tcolorbox-info"><div class="tbox-header">Note</div><div class="tbox-body"><p>The parent resolver is free to return anything, as long as it is enough for the nested resolvers to provide values.</div></div></div><h3 id="defined-lists">Lists</h3><p>(<a href="https://graphql.org/learn/execution/#list-resolvers">Official docs</a>)<p>Resolvers run for every field in the response. This means when a type is a list of a type, all its nested types will be resolved for each item.<p>For example, this query returns a list of users:<pre class="highlight prevp"><code><span class="hljs-comment"># schema</span>
<span class="hljs-keyword">type</span><span class="hljs-literal"> User</span> {
  username:<span class="hljs-literal"> String</span>!
  email:<span class="hljs-literal"> String</span>
  bio:<span class="hljs-literal"> String</span>
}

<span class="hljs-keyword">type</span><span class="hljs-literal"> Query</span> {
  allUsers: [<span class="hljs-literal">User</span>]
}</code></pre><p>Then the client query can define what fields are needed for each object in the list:<pre class="highlight prevp"><code><span class="hljs-comment"># query</span>
<span class="hljs-keyword">query</span><span class="hljs-literal"> MyQuery</span> {
  allUsers {
    username
    bio
  }
}</code></pre><p>The GraphQL backend resolves the top-level field (<code>Query.allUsers</code>) that returns a list, then it resolves the <code>username</code> and the <code>bio</code> for every item in that list. In that case, the nested resolvers get one item of the list as the source object.<figure class="plantuml image"><svg xmlns="http://www.w3.org/2000/svg"height="658"preserveAspectRatio="none"style="width:463px;height:658px;background:#fff"viewBox="0 0 463 658"width="463"><defs><filter height="300%"id="2ea1daa085413fd1aeb481577d5b37a1a55e05778eace87e6a80355cc23c7b04__a"width="300%"x="-1"y="-1"><feGaussianBlur result="blurOut"stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut"result="blurOut2"values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4"dy="4"in="blurOut2"result="blurOut3"></feOffset><feBlend in="SourceGraphic"in2="blurOut3"></feBlend></filter></defs><path style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5"d="M26 88.297V651.82M158.5 88.297V651.82M270 88.297V651.82M386.5 88.297V651.82"></path><text font-family="sans-serif"font-size="14"textLength="37"x="5"y="84.995">client</text><circle cx="26.5"cy="15"fill="#FEFECE"filter="url(#2ea1daa085413fd1aeb481577d5b37a1a55e05778eace87e6a80355cc23c7b04__a)"style="stroke:#a80036;stroke-width:2"r="8"></circle><path d="M26.5 23v27m-13-19h26m-13 19-13 15m13-15 13 15"fill="none"filter="url(#2ea1daa085413fd1aeb481577d5b37a1a55e05778eace87e6a80355cc23c7b04__a)"style="stroke:#a80036;stroke-width:2;fill:none"></path><text font-family="sans-serif"font-size="14"textLength="60"x="125.5"y="68.698">GraphQL</text><text font-family="sans-serif"font-size="14"textLength="60"x="125.5"y="84.995">backend</text><circle cx="158.5"cy="39.703"fill="#FEFECE"filter="url(#2ea1daa085413fd1aeb481577d5b37a1a55e05778eace87e6a80355cc23c7b04__a)"style="stroke:#a80036;stroke-width:2"r="12"></circle><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m154.5 27.703 6-5-2 5 2 5-6-5z"></path><text font-family="sans-serif"font-size="14"textLength="41"x="247"y="84.995">Query</text><circle cx="270.5"cy="56"fill="#FEFECE"filter="url(#2ea1daa085413fd1aeb481577d5b37a1a55e05778eace87e6a80355cc23c7b04__a)"style="stroke:#a80036;stroke-width:2"r="12"></circle><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m266.5 44 6-5-2 5 2 5-6-5z"></path><text font-family="sans-serif"font-size="14"textLength="32"x="367.5"y="84.995">User</text><circle cx="386.5"cy="56"fill="#FEFECE"filter="url(#2ea1daa085413fd1aeb481577d5b37a1a55e05778eace87e6a80355cc23c7b04__a)"style="stroke:#a80036;stroke-width:2"r="12"></circle><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m382.5 44 6-5-2 5 2 5-6-5zm-236 147.094 10 4-10 4 4-4z"></path><path style="stroke:#a80036;stroke-width:1"d="M26.5 195.094h126"></path><text font-family="sans-serif"font-size="13"textLength="108"x="33.5"y="114.364">query MyQuery {</text><text font-family="sans-serif"font-size="13"textLength="63"x="41.5"y="129.497">allUsers {</text><text font-family="sans-serif"font-size="13"textLength="65"x="49.5"y="144.629">username</text><text font-family="sans-serif"font-size="13"textLength="19"x="49.5"y="159.762">bio</text><text font-family="sans-serif"font-size="13"textLength="8"x="41.5"y="174.895">}</text><text font-family="sans-serif"font-size="13"textLength="8"x="33.5"y="190.028">}</text><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m258.5 220.227 10 4-10 4 4-4z"></path><path style="stroke:#a80036;stroke-width:1"d="M158.5 224.227h106"></path><text font-family="sans-serif"font-size="13"textLength="88"x="165.5"y="219.161">resolve Query</text><path d="M206 237.227v25h125v-15l-10-10H206"fill="#FBFB77"filter="url(#2ea1daa085413fd1aeb481577d5b37a1a55e05778eace87e6a80355cc23c7b04__a)"style="stroke:#a80036;stroke-width:1;fill:#fbfb77"></path><path d="M321 237.227v10h10l-10-10"fill="#FBFB77"style="stroke:#a80036;stroke-width:1;fill:#fbfb77"></path><text font-family="sans-serif"font-size="13"textLength="104"x="212"y="254.293">Resolve allUsers</text><path d="M146 276.36v70h245v-60l-10-10H146"fill="#FBFB77"filter="url(#2ea1daa085413fd1aeb481577d5b37a1a55e05778eace87e6a80355cc23c7b04__a)"style="stroke:#a80036;stroke-width:1;fill:#fbfb77"></path><path d="M381 276.36v10h10l-10-10"fill="#FBFB77"style="stroke:#a80036;stroke-width:1;fill:#fbfb77"></path><text font-family="sans-serif"font-size="13"textLength="5"x="152"y="293.426">[</text><text font-family="sans-serif"font-size="13"textLength="216"x="160"y="308.559">{"username": "user1", "bio": "..."},</text><text font-family="sans-serif"font-size="13"textLength="212"x="160"y="323.692">{"username": "user2", "bio": "..."}</text><text font-family="sans-serif"font-size="13"textLength="5"x="152"y="338.825">]</text><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m374.5 373.023 10 4-10 4 4-4z"></path><path style="stroke:#a80036;stroke-width:1"d="M270.5 377.023h110"></path><text font-family="sans-serif"font-size="13"textLength="92"x="277.5"y="371.957">resolve User 1</text><path d="M315 390.023v25h139v-15l-10-10H315"fill="#FBFB77"filter="url(#2ea1daa085413fd1aeb481577d5b37a1a55e05778eace87e6a80355cc23c7b04__a)"style="stroke:#a80036;stroke-width:1;fill:#fbfb77"></path><path d="M444 390.023v10h10l-10-10"fill="#FBFB77"style="stroke:#a80036;stroke-width:1;fill:#fbfb77"></path><text font-family="sans-serif"font-size="13"textLength="118"x="321"y="407.09">Resolve username</text><path d="M338 429.156v25h93v-15l-10-10h-83"fill="#FBFB77"filter="url(#2ea1daa085413fd1aeb481577d5b37a1a55e05778eace87e6a80355cc23c7b04__a)"style="stroke:#a80036;stroke-width:1;fill:#fbfb77"></path><path d="M421 429.156v10h10l-10-10"fill="#FBFB77"style="stroke:#a80036;stroke-width:1;fill:#fbfb77"></path><text font-family="sans-serif"font-size="13"textLength="72"x="344"y="446.223">Resolve bio</text><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m281.5 465.29-10 4 10 4-4-4z"></path><path style="stroke:#a80036;stroke-width:1;stroke-dasharray:2,2"d="M275.5 469.289h110"></path><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m374.5 494.422 10 4-10 4 4-4z"></path><path style="stroke:#a80036;stroke-width:1"d="M270.5 498.422h110"></path><text font-family="sans-serif"font-size="13"textLength="92"x="277.5"y="493.356">resolve User 2</text><path d="M315 511.422v25h139v-15l-10-10H315"fill="#FBFB77"filter="url(#2ea1daa085413fd1aeb481577d5b37a1a55e05778eace87e6a80355cc23c7b04__a)"style="stroke:#a80036;stroke-width:1;fill:#fbfb77"></path><path d="M444 511.422v10h10l-10-10"fill="#FBFB77"style="stroke:#a80036;stroke-width:1;fill:#fbfb77"></path><text font-family="sans-serif"font-size="13"textLength="118"x="321"y="528.489">Resolve username</text><path d="M338 550.555v25h93v-15l-10-10h-83"fill="#FBFB77"filter="url(#2ea1daa085413fd1aeb481577d5b37a1a55e05778eace87e6a80355cc23c7b04__a)"style="stroke:#a80036;stroke-width:1;fill:#fbfb77"></path><path d="M421 550.555v10h10l-10-10"fill="#FBFB77"style="stroke:#a80036;stroke-width:1;fill:#fbfb77"></path><text font-family="sans-serif"font-size="13"textLength="72"x="344"y="567.622">Resolve bio</text><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m281.5 586.688-10 4 10 4-4-4z"></path><path style="stroke:#a80036;stroke-width:1;stroke-dasharray:2,2"d="M275.5 590.688h110"></path><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m169.5 600.688-10 4 10 4-4-4z"></path><path style="stroke:#a80036;stroke-width:1;stroke-dasharray:2,2"d="M163.5 604.688h106"></path><path fill="#A80036"style="stroke:#a80036;stroke-width:1;fill:#a80036"d="m37.5 629.82-10 4 10 4-4-4z"></path><path style="stroke:#a80036;stroke-width:1"d="M31.5 633.82h126"></path><text font-family="sans-serif"font-size="13"textLength="59"x="43.5"y="628.754">response</text></svg><figcaption class="caption">Nested resolvers run for every element in a collection</figcaption></figure><div class="tcolorbox tcolorbox-secondary my-5"><div class="tbox-header fw-bold">Master AppSync and GraphQL</div><div class="tbox-body"><div>Support this book and get all future updates and extra chapters in ebook format.</div><div class="d-flex justify-content-center"><a role="button"href="https://tsallai.gumroad.com/l/graphql-on-aws-appsync-book"class="btn btn-primary not-styled mt-3 text-white">Buy the book</a></div></div></div><div class="pagination row"><div class="col-6"><a href="/graphql-basics/queries-and-mutations/"class="border rounded d-block p-3"><div class="pagination-sublabel text-muted small">Previous</div><div class="pagination-title">&lt; Queries and Mutations</div></a></div><div class="col-6"><a href="/graphql-basics/access-control/"class="border rounded d-block p-3 text-end ms-auto"><div class="pagination-sublabel text-muted small">Next</div><div class="pagination-title">Access control &gt;</div></a></div></div><footer>Â© TamÃ¡s Sallai - <a href="https://advancedweb.hu">advancedweb.hu</a></footer></div><div class="col-lg-3 d-none d-lg-block"><div class="toc-container"><a style="margin-left: 0em"href="#defined-resolvers">Resolvers</a> <a style="margin-left: 1em"href="#top-level-fields">Top-level fields</a> <a style="margin-left: 1em"href="#defined-nested-fields">Nested fields</a> <a style="margin-left: 1em"href="#resolver-arguments">Resolver arguments</a> <a style="margin-left: 1em"href="#defined-lists">Lists</a></div></div></div></div></div><script src="/assets/main.077454cb0bffe3695e9176b1b5f8a7fd9676d920.js"></script>